<% if (typeof data !== 'undefined' && !data.success) { %>
  <p class="message error-message"><span class="fa fa-exclamation-circle fa-lg fa-fw" aria-hidden="true"></span> <%= data.message %></p>
<% } else { %>
  <h2><%= page.details ? `${page.heading}: ${page.details}` : page.heading %></h2>
  <form method="post" novalidate>
    <div class="form-group">
      <label for="name">Author Name <abbr class="required-field" title="The author's name is required." aria-label="required">*</abbr></label>
      <input type="text" name="name" value="<%= typeof data !== 'undefined' ? data.message.name : '' %>" id="name" autocomplete="off" required />
    </div>
    <div class="form-group">
      <label for="date-of-birth">Date of Birth</label>
      <input type="date" name="dateOfBirth" placeholder="YYYY-MM-DD" max="<%= new Date().toISOString().slice(0, 10) %>" value="<%= typeof data !== 'undefined' && data.message.dateOfBirth ? data.message.dateOfBirthInput : '' %>" id="date-of-birth" autocomplete="off" />
    </div>
    <div class="form-group">
      <label for="date-of-death">Date of Death (leave empty if Author is not deceased)</label>
      <input type="date" name="dateOfDeath" placeholder="YYYY-MM-DD" max="<%= new Date().toISOString().slice(0, 10) %>" value="<%= typeof data !== 'undefined' && data.message.dateOfDeath ? data.message.dateOfDeathInput : '' %>" id="date-of-death" autocomplete="off" />
    </div>
    <div class="button-group">
      <button type="submit" class="button">Submit</button>
      <a class="button" href="<%= page.details ? data.message.url : '/catalog' %>" target="_self">Cancel</a>
    </div>
  </form>
  <%- include ('./partials/form-error-message') -%>
<% } %> 